<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="robots" content="index, follow"><title>ts-doc(Technical Document) event-example.js nav-shrink button 新設 • Hexo trial</title><meta name="description" content="ts-doc(Technical Document) event-example.js nav-shrink button 新設 - Y-M"><link rel="icon" href="/blog/css/favicon.png"><link rel="stylesheet" href="https://unpkg.com/sanitize.css"><link rel="stylesheet" href="/blog/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/blog/atom.xml" title="Hexo trial"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/blog/atom.xml" title="Hexo trial" type="application/atom+xml">
</head><body><div class="wrap" id="barba-wrapper"><header><h1 class="branding"><a href="/blog/" title="Hexo trial"><img class="logo-image" src="/blog/css/logo-60.png" alt="logo"></a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link no-barba" href="/blog/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link no-barba" href="/blog/archives" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link no-barba" href="/blog/atom.xml" target="_self">RSS</a></li></ul></header><div class="barba-container"><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">ts-doc(Technical Document) event-example.js nav-shrink button 新設</h1><div class="post-info"><a></a>2022-11-29</div><div class="post-content"><h2 id="初期値の設定-CSSで定義されている変数の読み込み"><a href="#初期値の設定-CSSで定義されている変数の読み込み" class="headerlink" title="初期値の設定(CSSで定義されている変数の読み込み)"></a>初期値の設定(CSSで定義されている変数の読み込み)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cbody = <span class="title function_">getComputedStyle</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>));</span><br><span class="line"><span class="keyword">const</span> nav_h = cbody.<span class="title function_">getPropertyValue</span>(<span class="string">&quot;--nav-h&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> nav_h_2 = cbody.<span class="title function_">getPropertyValue</span>(<span class="string">&quot;--nav-h-2&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> nav_w = cbody.<span class="title function_">getPropertyValue</span>(<span class="string">&quot;--nav-w&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> nav_w_2 = cbody.<span class="title function_">getPropertyValue</span>(<span class="string">&quot;--nav-w-2&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> nav_expand_button = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;button#nav-expand&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> nav_shrink_button = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;button#nav-shrink&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> pc_media = <span class="string">&quot;(min-width: 540px)&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> dbody = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">style</span>;</span><br></pre></td></tr></table></figure>
<h2 id="拡大ボタン関数"><a href="#拡大ボタン関数" class="headerlink" title="拡大ボタン関数"></a>拡大ボタン関数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nav_expand_button.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isPC = <span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(pc_media).<span class="property">matches</span>;</span><br><span class="line">  <span class="keyword">const</span> dst = <span class="string">&quot;--nav-&quot;</span> + (isPC ? <span class="string">&#x27;w&#x27;</span> : <span class="string">&#x27;h&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> src_val = isPC ? nav_w : nav_h;</span><br><span class="line">  dbody.<span class="title function_">setProperty</span>(dst, src_val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="縮小ボタン関数"><a href="#縮小ボタン関数" class="headerlink" title="縮小ボタン関数"></a>縮小ボタン関数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nav_shrink_button.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isPC = <span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(pc_media).<span class="property">matches</span>;</span><br><span class="line">  <span class="keyword">const</span> dst = <span class="string">&quot;--nav-&quot;</span> + (isPC ? <span class="string">&#x27;w&#x27;</span> : <span class="string">&#x27;h&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> src_val = isPC ? nav_w_2 : nav_h_2;</span><br><span class="line">  dbody.<span class="title function_">setProperty</span>(dst, src_val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(TODO:):現状では、拡大&#x2F;縮小ボタンが押されるたびに規定値への書き込みを行っているが、 状態を記憶しておいて、すでに縮小しているのなら即リターンすれば無駄な計算資源を使わなくて済む。</p>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/blog/2022/11/30/ts-doc-wiki/">Prev. post</a><a class="next" href="/blog/2022/11/29/2nd-post/">Next post</a></div><div class="copyright"><p>&copy; 2023 <a href="https://www.yskz.xyz/blog">Y-M</a><a href="https://hexo.io/" rel="noreferrer" target="_blank">Powered by Hexo</a><a target="_blank" rel="noopener" href="https://icons8.com/icon/70864/cycling-mountain-bike">Cycling Mountain Bike icon by Icons8</a></p></div></footer></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/barba.js/1.0.0/barba.min.js"></script><script>document.addEventListener('DOMContentLoaded', function() {
    Barba.Pjax.start()
})</script></body></html>